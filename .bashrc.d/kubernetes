# calico
export DATASTORE_TYPE=kubernetes
export KUBECONFIG=~/.kube/config

function kube_ctx {
  export KUBE_CTX="$(awk '/current-context/ {print $2}' ~/.kube/config|tr -d '\n')"
}

function kube_nodes {
  kubectl get nodes -o json | jq -r '.items[] | {"role": .metadata.labels."kubernetes.io/role", "network": .status.addresses[] | select(.type=="InternalIP")} | (.network.address +" #"+ .role)'
}
